<app-adminnavbar></app-adminnavbar>

<div class="container my-3">
    

    <div class="row">
        <div class="col-md-6 col-lg-4">
            <div class="card mb-3" style="width: 100%;" *ngIf="details.identification_number; else notifySendDocs">
                <div *ngIf="!loading">
                    <div class="card-header">
                        Status: 
                        <!-- Details for Username:  -->
                        <strong class="mt-3">
                            <button class="btn btn-sm btn-primary ml-2 float-right" (click)="activateDocuments(details.user.phone_number)">
                                Approve
                             </button> 
                             <!-- declineUploadDocuments -->
                             <button class="btn btn-sm btn-danger float-right" (click)="declineUploadDocuments(details.user.phone_number)">
                                 Decline
                              </button>
                        </strong>
                        
                        
                       </div>
                       <ul class="list-group list-group-flush" *ngIf="details.identification_number">
                        <li class="list-group-item">
                            Details for Username: 
                        <strong>
                            {{ details.user.username | titlecase}}
                        </strong>
                      </li>
                         <li class="list-group-item">
                               ID/Passport No.:
                           <strong>
                               {{ details.identification_number}}
                           </strong>
                         </li>
                         <li class="list-group-item">
                           KRA Pin:
                           <strong>
                               {{ details.KRA_pin}}
                           </strong>
                         </li>
                         <li class="list-group-item">
                           County of Residence:
                           <strong>
                               {{ details.residence}}
                           </strong>
                         </li>
                        
                       </ul>
                </div>
                <div  *ngIf="loading">
                    <mat-progress-bar mode="indeterminate" color="accent"></mat-progress-bar>
                </div>
            </div>
        </div>
        
        <div class="col-md-6 col-lg-8">
            <section >
            <div *ngIf="details.identification_number">
                <div class="row">
                    <div class="col-md-6 col-lg-6">
                        <div class="card border-0 transform-on-hover">
                            <a class="lightbox" href=""><img src="https://res.cloudinary.com/mellanex/{{details.passport_photo}}" class="card-img-top"></a>
                            <div class="card-body">
                                
                                <!-- <p class="text-muted card-text">Passport Photo</p> -->

                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                                    Passport Photo
                                  </button>
                                  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
                                    <div class="modal-dialog modal-full">
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h4 class="modal-title" id="exampleModalLabel">Passport</h4>
                                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://res.cloudinary.com/mellanex/{{details.passport_photo}}" class="img-fluid" >
                                        </div>
                                       
                                      </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-6">
                        <div class="card border-0 transform-on-hover">
                            <a class="lightbox" href=""><img src="https://res.cloudinary.com/mellanex/{{details.identification_doc}}" alt="details.user.username" class="card-img-top"></a>
                            <div class="card-body">
                                
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal1">
                                    Identification Image
                                  </button>
                                  <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
                                    <div class="modal-dialog modal-full" >
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h4 class="modal-title" id="exampleModalLabel2">Identification Card</h4>
                                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://res.cloudinary.com/mellanex/{{details.identification_doc}}" alt="details.user.username"  class="img-fluid">
                                        </div>
                                       
                                      </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6 col-lg-6">
                        <div class="card border-0 transform-on-hover">
                            <a class="lightbox" href=""><img src="https://res.cloudinary.com/mellanex/{{details.driving_license_picture}}" alt="details.user.username"class="card-img-top"></a>
                            
                            <div class="card-body">
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal2">
                                    Driving License
                                  </button>
                                  <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true" >
                                    <div class="modal-dialog modal-full" >
                                      <div class="modal-content">
                                        <div class="modal-header">
                                          <h4 class="modal-title" id="exampleModalLabel">Driving License</h4>
                                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                          </button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://res.cloudinary.com/mellanex/{{details.driving_license_picture}}" alt="details.user.username"  class="img-fluid">
                                        </div>
                                       
                                      </div>
                                    </div>
                                </div>   
                                
                                
                                
                               
                            </div>

                        </div>
                    </div>
                    
                </div>
                
                






                </div>
                <div  *ngIf="loading">
                    <mat-progress-bar mode="indeterminate" color="accent"></mat-progress-bar>
                </div>
            </section>
        </div>
       
    </div>    


   
</div>

<div class="container">
    <div class="row">
        <div class="col-md-6 col-lg-12">
            <ng-template #notifySendDocs>
                <div  class="card mb-3 my-2" >
                    <button class="btn btn-sm btn-success btn-block" (click)="notifyUploadDocuments(phone_number)">
                        Notify user to upload verification documents
                    </button>
                </div>
            </ng-template>
        </div>
    </div>
  
</div>

